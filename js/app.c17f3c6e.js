(function(e){function t(t){for(var i,l,s=t[0],o=t[1],c=t[2],d=0,f=[];d<s.length;d++)l=s[d],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&f.push(a[l][0]),a[l]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var o=n[s];0!==a[o]&&(i=!1)}i&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var i={},a={app:0},r=[];function l(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=i,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(n,i,function(t){return e[t]}.bind(null,i));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=o;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("85ec"),a=n.n(i);a.a},"1f68":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container min-h-screen p-4 mx-auto text-gray-200"},[n("rules-table",{attrs:{data:e.rulesTable}}),n("div",{staticClass:"flex justify-center mt-8"},[n("div",{staticClass:"relative"},[n("div",{staticClass:"absolute flex flex-col w-full justify-evenly",staticStyle:{height:"234px",top:"calc(50% - 117px)"}},[n("div",{staticClass:"h-1",class:e.winLineStyle("top")}),n("div",{staticClass:"h-1",class:e.winLineStyle("mid")}),n("div",{staticClass:"h-1",class:e.winLineStyle("bot")})]),n("div",{staticClass:"flex p-4 space-x-3 bg-gray-900 border-2 border-pink-500 rounded"},e._l(e.config.REEL_COUNT,(function(t){return n("div",{key:t,staticClass:"relative bg-gray-300 border-2 border-blue-500 rounded",staticStyle:{"border-width":"4px"}},[n("div",{staticClass:"relative z-10 overflow-hidden",style:{height:e.reelDimensions.height+"px",width:e.reelDimensions.width+"px"}},[n("div",{ref:"reel"+t,refInFor:!0},e._l(e.$data["reel"+t],(function(t,i){return n("img",{key:i,staticClass:"block",attrs:{width:e.config.IMAGE_WIDTH,height:e.config.IMAGE_HEIGHT,src:t.imagePath,alt:t.name}})})),0)]),n("div",{staticClass:"absolute top-0 left-0 z-20 w-full h-12 gradient-to-bottom"}),n("div",{staticClass:"absolute bottom-0 left-0 z-20 w-full h-12 gradient-to-top"})])})),0)])]),n("div",{staticClass:"flex justify-center mt-4 space-x-8"},[n("div",{staticClass:"w-64 space-y-4"},[n("div",[n("div",[e._v(" Balance: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.balance,expression:"balance"}],staticClass:"w-16 ml-4 text-yellow-400 bg-gray-700",attrs:{type:"number",disabled:e.isRunning,min:"1",max:"5000",size:"5"},domProps:{value:e.balance},on:{input:function(t){t.target.composing||(e.balance=t.target.value)}}})])]),n("button",{staticClass:"inline-block p-2 border-2 border-gray-300 rounded cursor-pointer",class:{"cursor-not-allowed":e.isRunning},attrs:{disabled:e.isRunning},on:{click:e.spin}},[e._v("Spin")]),n("div",{staticClass:"space-x-2"},[n("label",{attrs:{for:"debug"}},[e._v("Fixed mode")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.isFixed,expression:"isFixed"}],attrs:{type:"checkbox",id:"debug",disabled:e.isRunning},domProps:{checked:Array.isArray(e.isFixed)?e._i(e.isFixed,null)>-1:e.isFixed},on:{change:function(t){var n=e.isFixed,i=t.target,a=!!i.checked;if(Array.isArray(n)){var r=null,l=e._i(n,r);i.checked?l<0&&(e.isFixed=n.concat([r])):l>-1&&(e.isFixed=n.slice(0,l).concat(n.slice(l+1)))}else e.isFixed=a}}})]),e.isFixed?n("div",{staticClass:"flex space-x-3"},e._l(e.config.REEL_COUNT,(function(t){return n("div",{key:t},[n("div",{staticClass:"font-bold"},[e._v("Reel "+e._s(t))]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.$data["debugReel"+t].symbol,expression:"$data[`debugReel${n}`].symbol"}],staticClass:"block mt-2 bg-gray-700",on:{change:function(n){var i=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.$data["debugReel"+t],"symbol",n.target.multiple?i:i[0])}}},e._l(e.symbolTypes,(function(t,i){return n("option",{key:i,domProps:{value:t.id}},[e._v(e._s(t.id))])})),0),n("select",{directives:[{name:"model",rawName:"v-model",value:e.$data["debugReel"+t].line,expression:"$data[`debugReel${n}`].line"}],staticClass:"block mt-2 bg-gray-700",on:{change:function(n){var i=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.$data["debugReel"+t],"line",n.target.multiple?i:i[0])}}},e._l(e.availableLines,(function(t,i){return n("option",{key:i,domProps:{value:t.id}},[e._v(e._s(t.id))])})),0)])})),0):e._e()])])],1)},r=[],l=(n("a623"),n("4de4"),n("7db0"),n("c740"),n("4160"),n("caad"),n("d81d"),n("fb6a"),n("a434"),n("b64b"),n("d3b7"),n("07ac"),n("25f0"),n("2532"),n("159b"),n("5530")),s=n("2909"),o=[{id:1,symbols:["cherry","cherry","cherry"],line:"top",combination:!1,payout:2e3},{id:2,symbols:["cherry","cherry","cherry"],line:"mid",combination:!1,payout:1e3},{id:3,symbols:["cherry","cherry","cherry"],line:"bot",combination:!1,payout:4e3},{id:4,symbols:["7","7","7"],line:"any",combination:!1,payout:150},{id:5,symbols:["7","cherry"],line:"any",combination:!0,payout:75},{id:6,symbols:["3xbar","3xbar","3xbar"],line:"any",combination:!1,payout:50},{id:7,symbols:["2xbar","2xbar","2xbar"],line:"any",combination:!1,payout:20},{id:8,symbols:["bar","bar","bar"],line:"any",combination:!1,payout:10},{id:9,symbols:["bar","2xbar","3xbar"],line:"any",combination:!0,payout:5}],c=[{id:"top"},{id:"mid"},{id:"bot"},{id:"any"}],u=[{id:"3xbar",imagePath:"/images/3xBAR.png"},{id:"bar",imagePath:"/images/BAR.png"},{id:"2xbar",imagePath:"/images/2xBAR.png"},{id:"7",imagePath:"/images/7.png"},{id:"cherry",imagePath:"/images/Cherry.png"}],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"grid justify-center grid-flow-col grid-rows-3"},e._l(e.data,(function(t,i){return n("div",{key:i,staticClass:"grid items-center gap-2 text-sm leading-none",class:{blinking:t.isWin},staticStyle:{"grid-template-columns":"120px 85px 60px 85px"}},[n("div",{staticClass:"flex"},e._l(t.symbols,(function(e,t){return n("img",{key:t,attrs:{src:e,alt:"symbol",width:"40",height:"34"}})})),0),n("div",[e._v(e._s(t.combination?"Combination":"Match"))]),n("div",[e._v(e._s(t.line)+" line")]),n("div",{staticClass:"font-bold text-center"},[e._v(e._s(t.payout))])])})),0)},f=[],b={name:"rules-table",props:["data"]},p=b,m=n("2877"),h=Object(m["a"])(p,d,f,!1,null,null,null),y=h.exports,g={name:"App",components:{RulesTable:y},data:function(){return{config:{SLOT_SPEED:40,IMAGE_HEIGHT:121,IMAGE_WIDTH:141,DURATION:2e3,DELAY:500,MAX_Y_OFFSET:363,REEL_COUNT:3},isFixed:!1,balance:10,isRunning:!1,symbolTypes:u,winLines:{top:!1,mid:!1,bot:!1},reel1:[],reel2:[],reel3:[],latestOffsets:{reel1:0,reel2:0,reel3:0},debugReel1:{symbol:u[0].id,line:c[0].id},debugReel2:{symbol:u[0].id,line:c[0].id},debugReel3:{symbol:u[0].id,line:c[0].id},rulesTable:JSON.parse(JSON.stringify(o)).map((function(e){return e.isWin=!1,e.symbols=e.symbols.map((function(e){return u.find((function(t){return e===t.id})).imagePath})),e}))}},created:function(){this.reel1=Object(s["a"])(u),this.reel2=Object(s["a"])(u),this.reel3=Object(s["a"])(u)},computed:{reelDimensions:function(){return{width:this.config.IMAGE_WIDTH,height:2*this.config.IMAGE_HEIGHT}},availableLines:function(){return c.filter((function(e){return"any"!==e.id}))},lineCoeff:function(){return{top:0,mid:.5,bot:1}}},methods:{winLineStyle:function(e){return this.winLines[e]?["z-30","bg-yellow-600"]:["bg-green-400"]},spin:function(){this.reset(),this.balance<=0?alert("Insufficient funds!"):(this.balance-=1,this.isRunning=!0,this.start())},reset:function(){var e=this;this.rulesTable.forEach((function(e){e.isWin=!1})),Object.keys(this.winLines).forEach((function(t){e.winLines[t]=!1}))},start:function(){var e=this,t=this,n={reel1:this.latestOffsets.reel1,reel2:this.latestOffsets.reel2,reel3:this.latestOffsets.reel3},i={reel1:null,reel2:null,reel3:null},a={reel1:!1,reel2:!1,reel3:!1},r={reel1:[],reel2:[],reel3:[]};(function e(){for(var l=function(e){if(a["reel".concat(e)])return"continue";var l=t.$refs["reel".concat(e)][0];if(n["reel".concat(e)]>=t.config.MAX_Y_OFFSET){var o,c=t["reel".concat(e)].slice(0,3);t["reel".concat(e)].splice(0,3),(o=t["reel".concat(e)]).push.apply(o,Object(s["a"])(c)),n["reel".concat(e)]=0,l.style.transform="translateY(0)"}if(l.style.transform="translateY(-".concat(n["reel".concat(e)],"px)"),n["reel".concat(e)]+=t.config.SLOT_SPEED,i["reel".concat(e)]){var u=t["reel".concat(e)].findIndex((function(t){return t.id===i["reel".concat(e)].id}));if(u>0&&u*t.config.IMAGE_HEIGHT<=t.config.MAX_Y_OFFSET){var d=Math.abs(u*t.config.IMAGE_HEIGHT-t.config.IMAGE_HEIGHT*i["reel".concat(e)].line.coeff);n["reel".concat(e)]>=d&&("mid"===i["reel".concat(e)].line.id?r["reel".concat(e)].push(t["reel".concat(e)][u].id):"top"===i["reel".concat(e)].line.id?(r["reel".concat(e)].push(t["reel".concat(e)][u].id),r["reel".concat(e)].push(t["reel".concat(e)][u+1].id)):(r["reel".concat(e)].push(t["reel".concat(e)][u-1].id),r["reel".concat(e)].push(t["reel".concat(e)][u].id)),l.style.transform="translateY(-".concat(d,"px)"),i["reel".concat(e)]=null,a["reel".concat(e)]=!0,t.latestOffsets["reel".concat(e)]=d)}}},o=1;o<=t.config.REEL_COUNT;o++)l(o);Object.values(a).every((function(e){return e}))&&(t.isRunning=!1,t.determineWinners(r)),t.isRunning&&requestAnimationFrame(e)})();for(var l={reel1:null,reel2:null,reel3:null},o=1;o<=this.config.REEL_COUNT;o++)if(this.isFixed){var c=this["debugReel".concat(o)].symbol,d=this["debugReel".concat(o)].line,f=this.lineCoeff[d];l["reel".concat(o)]={id:c,line:{id:d,coeff:f}}}else{var b=u[Math.floor(Math.random()*u.length)].id,p=this.availableLines[Math.floor(Math.random()*this.availableLines.length)].id,m=this.lineCoeff[p];l["reel".concat(o)]={id:b,line:{id:p,coeff:m}}}setTimeout((function(){i.reel1=l.reel1,setTimeout((function(){i.reel2=l.reel2,setTimeout((function(){i.reel3=l.reel3}),e.config.DELAY)}),e.config.DELAY)}),this.config.DURATION)},determineWinners:function(e){for(var t=this,n={top:[],mid:[],bot:[]},i=1;i<=this.config.REEL_COUNT;i++){var a=e["reel".concat(i)];1===a.length?(n.top.push(null),n.mid.push(a[0]),n.bot.push(null)):(n.top.push(a[0]),n.mid.push(null),n.bot.push(a[1]))}var r=[];Object.keys(n).forEach((function(e){o.forEach((function(t){n[e].added||("any"!==t.line?e===t.line&&n[e].toString()===t.symbols.toString()&&(r.push({line:e,type:Object(l["a"])({},t)}),n[e].added=!0):t.combination?n[e].every((function(e){return t.symbols.includes(e)}))&&(r.push({line:e,type:Object(l["a"])({},t)}),n[e].added=!0):n[e].toString()===t.symbols.toString()&&(r.push({line:e,type:Object(l["a"])({},t)}),n[e].added=!0))}))}));for(var s=function(){var e=u[c];t.winLines[e.line]=!0;var n=t.rulesTable.find((function(t){return t.id===e.type.id}));n.isWin=!0,t.balance+=n.payout},c=0,u=r;c<u.length;c++)s()}}},v=g,x=(n("034f"),Object(m["a"])(v,a,r,!1,null,null,null)),_=x.exports;n("1f68");i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(_)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.c17f3c6e.js.map